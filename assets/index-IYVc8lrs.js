(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();function u(e,t="error"){const o=document.querySelector(".toast-container")||E(),n=document.createElement("div");n.className=`toast toast-${t}`,n.textContent=e,o.appendChild(n),requestAnimationFrame(()=>{n.classList.add("show")}),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>n.remove(),300)},3e3)}function E(){const e=document.createElement("div");return e.className="toast-container",document.body.appendChild(e),e}const L="ZtVdh8XQ2U8pWI2gmZ7f796Vh8GllXoN7mr0djNf",w="https://api.tech.redventures.com.br";async function v(e){try{const t=await fetch(`${w}/${e}`,{method:"GET",headers:{"Content-Type":"application/json","x-api-key":L}});if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch{u(`Failed to retrieve the list of ${e}. Please try again.`,"error")}}function g(){return{activeBrothId:localStorage.getItem("brothsId"),activeProteinId:localStorage.getItem("proteinsId")}}function q(){localStorage.removeItem("brothsId"),localStorage.removeItem("proteinsId")}function B(){const e=document.createElement("div");return e.className="spinner",e}function I(e,t,o,n){const r=document.querySelector(e),s=r.querySelector(".slider-items"),a=r.querySelector(".slider-bullets"),d=B();s.appendChild(d),setTimeout(()=>{s.removeChild(d),Array.isArray(t)?(t.forEach((i,l)=>{const c=f(i,n);s.appendChild(c);const h=p(l,e);a.appendChild(h)}),$(e,t,o)):u("Error loading list of ingredients","error")},2e3);function m(i,l){const c=document.querySelector(l),h=c.querySelector(".slider-items");h.style.transform=`translateX(-${i*100}%)`,c.querySelector(".bullet.active").classList.remove("active"),c.querySelectorAll(".bullet")[i].classList.add("active")}function f(i,l){const c=document.createElement("div");return c.className="slider-item",c.dataset.id=i.id,c.innerHTML=`
      <img src="${i.imageInactive}" alt="${i.name}" />
      <h3>${i.name}</h3>
      <h6>${i.description}</h6>
      <p>US$ ${i.price}</p>
    `,i.id===l&&(c.classList.add("active"),c.querySelector("img").src=i.imageActive),c}function p(i,l){const c=document.createElement("div");return c.className="bullet",i===0&&c.classList.add("active"),c.addEventListener("click",()=>m(i,l)),c}}function $(e,t,o){const n=document.querySelector(e),s=n.querySelector(".slider-items").querySelectorAll(".slider-item");s.forEach((a,d)=>{a.addEventListener("click",()=>{var m;(m=n.querySelector(".slider-item.active"))==null||m.classList.remove("active"),a.classList.add("active"),a.querySelector("img").src=t[d].imageActive,s.forEach((f,p)=>{p!==d&&(f.classList.remove("active"),f.querySelector("img").src=t[p].imageInactive)}),P(e,t[d].id,o)})})}function P(e,t,o){const n=e.replace("#","");localStorage.setItem(`${n}Id`,t),o()}const A="ZtVdh8XQ2U8pWI2gmZ7f796Vh8GllXoN7mr0djNf",N="https://api.tech.redventures.com.br";async function O(e){try{const t=await fetch(`${N}/order`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":A},body:JSON.stringify(e)});if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch{u("Failed to place order. Please try again.","error")}}function T(e){const t=document.getElementById("header");t.classList.remove("default-header"),t.classList.add("success-header"),t.innerHTML=`
    <div class="logo">
      <img src="../assets/logo/ramen-go-logo-2.svg" alt="RamenGo Logo" />
    </div>
    <div class="order-info">
      <img src="${e.image}" alt="${e.description}" />
      <h3>Your Order:</h3>
      <h2>${e.description}</h2>
    </div>
  `}function C(){const e=document.getElementById("main"),t=document.getElementById("broths"),o=document.getElementById("proteins"),n=document.getElementById("button");t.style.display="none",o.style.display="none";const r=document.createElement("section");r.id="order-success",r.innerHTML=`
    <div class="bowing">
      <img src="../assets/bowing.svg" alt="RamenGo Illustration" />
    </div>
    <h3>どもありがとうございます。</h3>
    <h2>Your order is being prepared</h2>
    <p>Hold on, when you least expect you will be eating your rámen.</p>
  `,e.insertBefore(r,n)}let b=!1;function k(e){b=e}function D(){return b}function y(){const e=document.querySelector("#order-button"),{activeBrothId:t,activeProteinId:o}=g();e.disabled=!(t&&o)}async function M(e,t){const o=await O(e);o&&(q(),k(!0),j(o,t))}function j(e,t){t.innerHTML="Place new order",t.classList.add("success"),T(e),C()}function F(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}async function H(){try{const e=await v("broths"),t=await v("proteins");if(e&&t){const{activeBrothId:o,activeProteinId:n}=g();I("#broths",e,y,o),I("#proteins",t,y,n),y()}else u("Error loading list of ingredients.","error")}catch{u("Error initializing sliders. Please try again.","error")}}document.addEventListener("DOMContentLoaded",()=>{H()});document.getElementById("order-now-button").addEventListener("click",()=>F("main"));const S=document.querySelector("#order-button");S.addEventListener("click",async()=>{const{activeBrothId:e,activeProteinId:t}=g(),o={brothId:e,proteinId:t};D()?window.location.reload():await M(o,S)});
